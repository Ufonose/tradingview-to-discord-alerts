<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            width: 380px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
        }
        
        .container {
            padding: 12px;
            position: relative;
        }
        
        .header {
            text-align: center;
            margin-bottom: 16px;
            position: relative;
        }
        
        .help-btn {
            position: absolute;
            top: -5px;
            right: 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ffffff;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .help-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .title {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            font-weight: 400;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 14px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .webhook-section {
            margin-bottom: 14px;
        }
        
        .input-group {
            position: relative;
            margin-bottom: 12px;
        }
        
        .input-label {
            display: block;
            font-size: 12px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 6px;
        }
        
        .webhook-input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 13px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .webhook-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
            transform: translateY(-1px);
        }
        
        .webhook-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }
        
        .position-input {
            width: 100%;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 13px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .position-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
            transform: translateY(-1px);
        }
        
        .position-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }
        
        .dropdown {
            width: 100%;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #ffffff;
            font-size: 13px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            cursor: pointer;
        }
        
        .dropdown:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
            transform: translateY(-1px);
        }
        
        .dropdown option {
            background: #1a1a2e;
            color: #ffffff;
        }
        
        .connection-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .connection-feedback {
            margin-top: 8px;
        }
        
        .connection-feedback-item {
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            display: none;
            animation: fadeInUp 0.3s ease;
            text-align: center;
            width: 100%;
        }
        
        .connection-feedback-item.success {
            background: rgba(86, 171, 47, 0.2);
            color: #a8e6cf;
            border: 1px solid rgba(86, 171, 47, 0.3);
        }
        
        .connection-feedback-item.error {
            background: rgba(255, 107, 107, 0.2);
            color: #ff9999;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        .connection-feedback-item.show {
            display: block;
        }
        
        .position-feedback {
            margin-top: 8px;
        }
        
        .position-feedback-item {
            font-size: 10px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            display: none;
            animation: fadeInUp 0.3s ease;
            text-align: center;
            width: 100%;
        }
        
        .position-feedback-item.success {
            background: rgba(86, 171, 47, 0.2);
            color: #a8e6cf;
            border: 1px solid rgba(86, 171, 47, 0.3);
        }
        
        .position-feedback-item.error {
            background: rgba(255, 107, 107, 0.2);
            color: #ff9999;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        .position-feedback-item.show {
            display: block;
        }
        
        .settings-grid {
            display: grid;
            gap: 10px;
        }
        
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .setting-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(2px);
        }
        
        .setting-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }
        
        .setting-icon {
            font-size: 18px;
            width: 20px;
            text-align: center;
        }
        
        .setting-text {
            display: flex;
            flex-direction: column;
        }
        
        .setting-title {
            font-size: 13px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 2px;
        }
        
        .setting-desc {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.3;
        }
        
        .setting-feedback {
            font-size: 10px;
            font-weight: 600;
            margin-top: 4px;
            padding: 2px 6px;
            border-radius: 4px;
            display: none;
            animation: fadeInUp 0.3s ease;
        }
        
        .setting-feedback.success {
            background: rgba(86, 171, 47, 0.2);
            color: #a8e6cf;
            border: 1px solid rgba(86, 171, 47, 0.3);
        }
        
        .setting-feedback.show {
            display: inline-block;
        }
        
        .reset-feedback {
            font-size: 11px;
            font-weight: 600;
            margin-top: 8px;
            padding: 4px 8px;
            border-radius: 6px;
            display: none;
            animation: fadeInUp 0.3s ease;
            text-align: center;
        }
        
        .reset-feedback.success {
            background: rgba(86, 171, 47, 0.2);
            color: #a8e6cf;
            border: 1px solid rgba(86, 171, 47, 0.3);
        }
        
        .reset-feedback.error {
            background: rgba(255, 107, 107, 0.2);
            color: #ff9999;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        .reset-feedback.show {
            display: block;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Modern toggle switch */
        .toggle {
            position: relative;
            width: 48px;
            height: 24px;
        }
        
        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 2px;
            bottom: 2px;
            background: linear-gradient(45deg, #ffffff, #f0f0f0);
            border-radius: 50%;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        
        input:checked + .slider {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-color: #667eea;
        }
        
        input:checked + .slider:before {
            transform: translateX(24px);
            background: #ffffff;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
        }
        
        .actions {
            display: grid;
            gap: 10px;
            margin-top: 14px;
        }
        
        .btn {
            padding: 14px 20px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }
        
        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }
        
        .btn:hover:before {
            left: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(86, 171, 47, 0.3);
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(86, 171, 47, 0.4);
        }
        
        .btn-warning {
            background: linear-gradient(45deg, #5a4d88, #4a5bb8);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(90, 77, 136, 0.3);
            text-transform: none;
        }
        
        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(90, 77, 136, 0.4);
        }
        
        .btn-small {
            padding: 7px 16px;
            font-size: 12px;
            letter-spacing: 0.2px;
            text-transform: none;
        }
        
        .btn-dark {
            background: linear-gradient(45deg, #3a4ba8, #4a5bb8);
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(58, 75, 168, 0.3);
        }
        
        .btn-dark:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(58, 75, 168, 0.4);
            background: linear-gradient(45deg, #4a5bb8, #3a4ba8);
        }
        
        .btn-test {
            background: linear-gradient(45deg, #4a5bb8, #5a4d88);
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(74, 91, 184, 0.3);
        }
        
        .btn-test:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(74, 91, 184, 0.4);
            background: linear-gradient(45deg, #5a4d88, #4a5bb8);
        }
        
        .btn-position {
            background: linear-gradient(45deg, #3a4ba8, #4a5bb8);
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(58, 75, 168, 0.3);
        }
        
        .btn-position:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(58, 75, 168, 0.4);
            background: linear-gradient(45deg, #4a5bb8, #3a4ba8);
        }
        
        .btn-delete {
            background: linear-gradient(45deg, #4a5bb8, #5a4d88);
            color: #ffffff;
            box-shadow: 0 2px 8px rgba(74, 91, 184, 0.3);
        }
        
        .btn-delete:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(74, 91, 184, 0.4);
            background: linear-gradient(45deg, #5a4d88, #4a5bb8);
        }
        
        .status {
            margin-top: 10px;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            text-align: center;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .status.success {
            background: rgba(86, 171, 47, 0.2);
            color: #a8e6cf;
            border: 1px solid rgba(86, 171, 47, 0.3);
        }
        
        .status.error {
            background: rgba(255, 107, 107, 0.2);
            color: #ff9999;
            border: 1px solid rgba(255, 107, 107, 0.3);
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            margin: 5% auto;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            width: 85%;
            max-width: 500px;
            color: #ffffff;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-title {
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 18px;
            font-weight: 700;
        }
        
        .close {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #ffffff;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }
        
        .help-section {
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .help-section:last-child {
            margin-bottom: 0;
        }
        
        .help-title {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .help-desc {
            color: rgba(255, 255, 255, 0.8);
            font-size: 13px;
            line-height: 1.5;
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="help-btn" id="helpBtn">?</button>
            <div class="title">TradingView → Discord</div>
            <div class="subtitle">Automated Trade Notifications</div>
        </div>
        
        <div class="card webhook-section">
            <div class="section-title">
                🔗 Connection Setup
            </div>
            <div class="input-group">
                <label class="input-label" for="webhookUrl">Discord Webhook URL</label>
                <input type="text" id="webhookUrl" class="webhook-input" placeholder="https://discord.com/api/webhooks/..." />
            </div>
            <div class="connection-actions">
                <button class="btn btn-small btn-dark" id="saveSettings">
                    💾 Save
                </button>
                <button class="btn btn-small btn-test" id="testWebhook">
                    🧪 Test
                </button>
            </div>
            <div class="connection-feedback">
                <div class="connection-feedback-item" id="connectionFeedback"></div>
            </div>
        </div>

        <div class="card">
            <div class="section-title">
                ⚙️ Notification Settings
            </div>
            <div class="settings-grid">
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">🔔</div>
                        <div class="setting-text">
                            <div class="setting-title">Discord Notifications</div>
                            <div class="setting-desc">Send all trade alerts to Discord</div>
                            <div class="setting-feedback" id="notificationsFeedback"></div>
                        </div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="enableNotifications">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">📊</div>
                        <div class="setting-text">
                            <div class="setting-title">Include Symbol Info</div>
                            <div class="setting-desc">Show trading symbol in notifications</div>
                            <div class="setting-feedback" id="symbolFeedback"></div>
                        </div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="includeSymbol">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <!-- NEW: Time Setting moved to 3rd position -->
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">🕐</div>
                        <div class="setting-text">
                            <div class="setting-title">Include Time</div>
                            <div class="setting-desc">Show execution time (New York timezone)</div>
                            <div class="setting-feedback" id="timeFeedback"></div>
                        </div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="includeTime">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <!-- Screenshots moved to 4th position -->
                <div class="setting-item">
                    <div class="setting-info">
                        <div class="setting-icon">📸</div>
                        <div class="setting-text">
                            <div class="setting-title">Include Screenshots</div>
                            <div class="setting-desc">Capture chart when trades execute</div>
                            <div class="setting-feedback" id="screenshotsFeedback"></div>
                        </div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="enableScreenshots">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>
        
        <div class="actions">
            <div class="reset-feedback" id="resetFeedback"></div>
            <button class="btn btn-warning" id="resetPosition">
                🔄 Reset Position Tracking
            </button>
        </div>

        <!-- Manual Position Input Section - Now at the very bottom -->
        <div class="card" style="margin-top: 14px;">
            <div class="section-title">
                📊 Manual Position Input
            </div>
            <div class="input-group">
                <label class="input-label" for="symbolSelect">Select Symbol (execute a trade for symbols to appear)</label>
                <select id="symbolSelect" class="dropdown">
                    <option value="">Choose a symbol...</option>
                </select>
            </div>
            <div class="input-group">
                <label class="input-label" for="positionInput">Current Position</label>
                <input type="number" id="positionInput" class="position-input" placeholder="Enter quantity (+ for long, - for short)" step="any" />
            </div>
            <div class="connection-actions">
                <button class="btn btn-small btn-position" id="setPosition">
                    📊 Set
                </button>
                <button class="btn btn-small btn-delete" id="deleteSymbol">
                    🗑️ Remove
                </button>
            </div>
            <div class="position-feedback">
                <div class="position-feedback-item" id="positionFeedback"></div>
            </div>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">📖 Help & Settings Guide</div>
                <button class="close" id="closeModal">×</button>
            </div>
            
            <div class="help-section">
                <div class="help-title">🔗 Discord Webhook URL</div>
                <div class="help-desc">Enter your Discord webhook URL in the Connection Setup section. This is where all your trade notifications will be sent. You can create a webhook in your Discord server by going to Server Settings → Integrations → Webhooks.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">💾 Save</div>
                <div class="help-desc">Saves your Discord webhook URL to the extension. You must save your webhook URL before notifications will work or testing will be possible.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">🧪 Test</div>
                <div class="help-desc">Sends a test message to your Discord channel to verify your webhook URL is working correctly. Make sure to save your webhook URL first before testing.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">🔔 Discord Notifications</div>
                <div class="help-desc">Master switch for all trade notifications. When disabled, no trade alerts will be sent to Discord regardless of other settings. This setting auto-saves when toggled.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">📊 Include Symbol Info</div>
                <div class="help-desc">When enabled, the trading symbol (like AAPL, TSLA, EURUSD, etc.) will be included in your Discord notifications. This helps you quickly identify which asset the trade notification is for. This setting is enabled by default and auto-saves when toggled.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">🕐 Include Time</div>
                <div class="help-desc">Shows the execution time in New York timezone (Eastern Time) for all trade notifications. The time is displayed in 24-hour format (HH:MM:SS) and automatically adjusts for daylight saving time. This setting is enabled by default and auto-saves when toggled.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">📸 Include Screenshots</div>
                <div class="help-desc">Automatically captures and sends screenshots of your TradingView chart when trades are executed. <br><br><strong>Important:</strong> Screenshots require TradingView to be the active tab and clicking the extension icon once per browser session to activate permissions. After activation, screenshots work automatically. This setting auto-saves when toggled.</div>
            </div>
            
            <div class="help-section">
                <div class="help-title">🔄 Reset Position Tracking</div>
                <div class="help-desc">Clears the extension's memory of your current trading positions. Use this if the extension incorrectly thinks you have open positions when you don't, or if you want to start tracking fresh from a flat position.</div>
            </div>

            <div class="help-section">
                <div class="help-title">📊 Manual Position Input</div>
                <div class="help-desc">Set your current position for specific symbols when switching browsers or computers. This feature solves the cross-device synchronization issue.<br><br><strong>How to use:</strong><br>1. Select a symbol from the dropdown (populated from previous trades)<br>2. Enter your current position (positive numbers for long positions, negative for short positions, 0 for flat)<br>3. Click "📊 Set" to apply the position<br><br><strong>Symbol Management:</strong><br>• Only symbols you've previously traded will appear in the dropdown<br>• Use "🗑️ Remove" to delete old symbols you no longer trade<br>• Symbols persist across browser sessions and resets<br><br><strong>Use cases:</strong><br>• When switching to a new browser/computer<br>• After manually closing positions outside TradingView<br>• To correct incorrect position tracking</div>
            </div>
        </div>
    </div>
    
    <script src="popup.js"></script>
</body>
</html>
